<div class="l-resort" ahtl-slide-on-click ng-controller="ResortController as resort">
    <div class="filters">

        <div class="filters__header">
            Filter your search
            <div slide-emit class="menu-handler">
                <span class="menu-handler__bar1 menu-handler__bar1--change" slide-on-toggle="menu-handler__bar1--change"></span>
                <span class="menu-handler__bar2 menu-handler__bar2--change" slide-on-toggle="menu-handler__bar2--change"></span>
                <span class="menu-handler__bar3 menu-handler__bar3--change" slide-on-toggle="menu-handler__bar3--change"></span>
            </div>
        </div>
        <div slide-on>
            <div class="filters__filter-group filters__filter-group--first">
                <input class="filters__filter-group-switcher" id="location" type="checkbox" checked>
                <label class="filters__filter-group-header" for="location">Location</label>
                <div class="filters__list">
                    <label class="filters__filter" ng-repeat="(location, v) in resort.filters.locations">
                       <input ng-model="resort.filters.locations[location]"
                               ng-change="resort.onFilterChange('locations', location, resort.filters.locations[location])"
                               type="checkbox" checked>
                        {{location}}
                    </label>
                </div>
            </div>

            <div class="filters__filter-group">
                <input class="filters__filter-group-switcher" id="guests" type="checkbox" checked>
                <label class="filters__filter-group-header" for="guests">Guests</label>
                <div class="filters__list">
                    <label class="filters__filter filters__filter--guests"
                           ng-repeat="(guest, v) in resort.filters.guests">
                        <input class="filters__filter-input-guests"
                               ng-model="resort.filters.guests[guest]"
                               type="checkbox" checked>
                        <span class="filters__filter-guests" ng-style="{'width': 20 * ($index + 1)}"></span>
                    </label>
                </div>
            </div>

            <div class="filters__filter-group">
                <input class="filters__filter-group-switcher" id="type" type="checkbox" checked>
                <label class="filters__filter-group-header" for="type">Type</label>
                <div class="filters__list">
                    <label class="filters__filter" ng-repeat="(type, v) in resort.filters.types">
                        <input ng-model="resort.filters.types[type]"
                               type="checkbox" checked>
                        {{type}}
                    </label>
                </div>
            </div>

            <div class="filters__filter-group">
                <input class="filters__filter-group-switcher" id="setting" type="checkbox" checked>
                <label class="filters__filter-group-header" for="setting">Setting</label>
                <div class="filters__list">
                    <label class="filters__filter" ng-repeat="(setting, v) in resort.filters.settings">
                        <input ng-model="resort.filters.settings[setting]"
                               type="checkbox" checked>
                        {{setting}}
                    </label>
                </div>
            </div>

            <div class="filters__filter-group">
                <input class="filters__filter-group-switcher" id="price" type="checkbox" checked>
                <label class="filters__filter-group-header" for="price">Price</label>
                <ahtl-price-slider class="filters__list"
                                   min="{{resort.filters.price.min}}"
                                   max="{{resort.filters.price.max}}"
                                   left-slider="resort.filters.price.min"
                                   right-slider="resort.filters.price.max">
                </ahtl-price-slider>
            </div>

            <div class="filters__filter-group">
                <input class="filters__filter-group-switcher" id="mustHave" type="checkbox" checked>
                <label class="filters__filter-group-header" for="mustHave">Must Have</label>
                <div class="filters__list">
                    <label class="filters__filter" ng-repeat="(mustHave, v) in resort.filters.mustHaves">
                        <input ng-model="resort.filters.mustHaves[mustHave]"
                               type="checkbox" checked>
                        {{mustHave}}
                    </label>
                </div>
            </div>

            <div class="filters__filter-group filters__filter-group--last">
                <input class="filters__filter-group-switcher" id="activities" type="checkbox" checked>
                <label class="filters__filter-group-header" for="activities">Activities</label>
                <div class="filters__list">
                    <label class="filters__filter" ng-repeat="(activity, v) in resort.filters.activities">
                        <input ng-model="resort.filters.activities[activity]"
                               type="checkbox" checked>
                        {{activity}}
                    </label>
                </div>
            </div>

            <div class="help">
                <h3 class="help__header">Need help?</h3>
                <p class="help__call-us">call us on +0-800-123-45-67</p>
            </div>
        </div>
    </div>
    <div class="resorts" slide-on-toggle="resorts--clear">
        <span class="resorts__found">We have found X hotels</span>
        <div class="hotel" ng-repeat="hotel in resort.hotels track by hotel._id">
            <img class="hotel__img" ng-src="assets/images/resort/{{hotel._id}}/preview.jpg">
            <h3 class="hotel__name">{{hotel.name}}</h3>
            <p class="hotel__location">
                {{hotel.location.region}}
            </p>
            <div><a class="hotel__map" href="">Map</a></div>
            <p class="hotel__price">Price: {{hotel.price}}$</p>
            <p class="hotel__desc">{{hotel.desc}}</p>
            <p class="hotel__activities">
                <span class="hotel__activities-em">Activities: </span>
                {{hotel.activities | activitiesfilter: 75}}</p>
            <a class="hotel__more" href="">read more</a>
        </div>
    </div>
    <div style="clear: both"></div>
</div>